#!/usr/bin/env php
<?php

require __DIR__.'/vendor/autoload.php';

use Symfony\Component\Console\Application;
use Olidol\Console\Command;
use Olidol\Container;

$container = new Container();

$application = new Application();
$application->setDispatcher($container['dispatcher']);

// AddressBook
$application->add(new Command\AddressBook\ExportCommand($container['client.factory']));
$application->add(new Command\AddressBook\ImportCommand($container['client.factory']));
// Configuration
$application->add(new Command\Config\Connection\CreateCommand($container['config']));
$application->add(new Command\Config\Connection\DeleteCommand($container['config']));
$application->add(new Command\Config\Connection\ListCommand($container['config']));

$application->run();
